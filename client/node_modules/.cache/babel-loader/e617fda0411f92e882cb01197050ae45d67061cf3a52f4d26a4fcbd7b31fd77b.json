{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst BASE_URL = process.env.REACT_APP_SERVER_URL || \"http://localhost:5000\";\nconst imagesSlice = createSlice({\n  name: \"images\",\n  initialState: {\n    imagesInfo: [],\n    pending: {},\n    error: false\n  },\n  reducers: {\n    startAPI: (state, action) => {\n      state.pending = {\n        ...state.pending,\n        [action.payload]: true\n      };\n      console.log(state.pending);\n    },\n    fetchSuccess: (state, action) => {\n      state.pending = {\n        ...state.pending,\n        fetchPosts: false\n      };\n      state.postsInfo = action.payload.data;\n    },\n    errorAPI: (state, action) => {\n      state.pending = {\n        ...state.pending,\n        [action.payload]: null\n      };\n      state.error = true;\n    }\n  }\n});\nexport const fetchPosts = async (page, dispatch) => {\n  dispatch(imagesSlice.actions.startAPI(\"fetchPosts\"));\n  try {\n    const res = await fetch(`${BASE_URL}/posts?page=${page}`);\n    const data = await res.json();\n    dispatch(imagesSlice.actions.fetchSuccess(data));\n  } catch (error) {\n    dispatch(imagesSlice.actions.errorAPI());\n    console.log(\"error: \", error);\n  }\n};\nexport default imagesSlice.reducer;","map":{"version":3,"names":["createSlice","BASE_URL","process","env","REACT_APP_SERVER_URL","imagesSlice","name","initialState","imagesInfo","pending","error","reducers","startAPI","state","action","payload","console","log","fetchSuccess","fetchPosts","postsInfo","data","errorAPI","page","dispatch","actions","res","fetch","json","reducer"],"sources":["C:/Users/User/Desktop/aihubcentral/client/src/redux/Images.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst BASE_URL = process.env.REACT_APP_SERVER_URL || \"http://localhost:5000\";\n\nconst imagesSlice = createSlice({\n    name: \"images\",\n    initialState: {\n        imagesInfo: [],\n        pending: {},\n        error: false\n    },\n    reducers: {\n        startAPI: (state, action) => {\n            state.pending = {...state.pending, [action.payload]: true};\n            console.log(state.pending);\n        },\n        fetchSuccess: (state, action) => {\n            state.pending = {...state.pending, fetchPosts: false};\n            state.postsInfo = action.payload.data;\n        },\n        errorAPI: (state, action) => {\n            state.pending = {...state.pending, [action.payload]: null};\n            state.error = true;\n        },\n    }\n});\n\nexport const fetchPosts = async (page, dispatch) => {\n    dispatch(imagesSlice.actions.startAPI(\"fetchPosts\"));\n\n    try {\n        \n        const res = await fetch(`${BASE_URL}/posts?page=${page}`);\n\n        const data = await res.json();\n\n        dispatch(imagesSlice.actions.fetchSuccess(data))\n    } catch (error) {\n        dispatch(imagesSlice.actions.errorAPI());\n        console.log(\"error: \", error);\n    }\n}\n\nexport default imagesSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE5E,MAAMC,WAAW,GAAGL,WAAW,CAAC;EAC5BM,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACVC,UAAU,EAAE,EAAE;IACdC,OAAO,EAAE,CAAC,CAAC;IACXC,KAAK,EAAE;EACX,CAAC;EACDC,QAAQ,EAAE;IACNC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACzBD,KAAK,CAACJ,OAAO,GAAG;QAAC,GAAGI,KAAK,CAACJ,OAAO;QAAE,CAACK,MAAM,CAACC,OAAO,GAAG;MAAI,CAAC;MAC1DC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACJ,OAAO,CAAC;IAC9B,CAAC;IACDS,YAAY,EAAEA,CAACL,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACJ,OAAO,GAAG;QAAC,GAAGI,KAAK,CAACJ,OAAO;QAAEU,UAAU,EAAE;MAAK,CAAC;MACrDN,KAAK,CAACO,SAAS,GAAGN,MAAM,CAACC,OAAO,CAACM,IAAI;IACzC,CAAC;IACDC,QAAQ,EAAEA,CAACT,KAAK,EAAEC,MAAM,KAAK;MACzBD,KAAK,CAACJ,OAAO,GAAG;QAAC,GAAGI,KAAK,CAACJ,OAAO;QAAE,CAACK,MAAM,CAACC,OAAO,GAAG;MAAI,CAAC;MAC1DF,KAAK,CAACH,KAAK,GAAG,IAAI;IACtB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMS,UAAU,GAAG,MAAAA,CAAOI,IAAI,EAAEC,QAAQ,KAAK;EAChDA,QAAQ,CAACnB,WAAW,CAACoB,OAAO,CAACb,QAAQ,CAAC,YAAY,CAAC,CAAC;EAEpD,IAAI;IAEA,MAAMc,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE1B,QAAS,eAAcsB,IAAK,EAAC,CAAC;IAEzD,MAAMF,IAAI,GAAG,MAAMK,GAAG,CAACE,IAAI,EAAE;IAE7BJ,QAAQ,CAACnB,WAAW,CAACoB,OAAO,CAACP,YAAY,CAACG,IAAI,CAAC,CAAC;EACpD,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZc,QAAQ,CAACnB,WAAW,CAACoB,OAAO,CAACH,QAAQ,EAAE,CAAC;IACxCN,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEP,KAAK,CAAC;EACjC;AACJ,CAAC;AAED,eAAeL,WAAW,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}